!function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){(function(t){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}var n=function(){function e(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(a=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(s){n=!0,i=s}finally{try{!a&&o["return"]&&o["return"]()}finally{if(n)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=r(1),o=r(2),s=a(o),c=r(3),u=a(c),d=r(4),p=a(d),m=r(5),y=a(m),v="object"==("undefined"==typeof window?"undefined":i(window))&&window.window===window?window:"object"==("undefined"==typeof t?"undefined":i(t))&&t.global===t?t:void 0;v.mePlayer=function(e){function t(){N.addEventListener("ended",r),N.addEventListener("canplaythrough",a),N.addEventListener("durationchange",i),N.addEventListener("timeupdate",o),j.addEventListener("click",c),P.addEventListener("click",d)}function r(){u.removeClass(q,"meplayer-isplaying")}function a(){A=this.duration,setTimeout(function(){u.removeClass(q,"meplayer-isloading"),D.querySelector(".meplayer-duration-text").innerText=u.parseSec(A.toFixed(0))},1e3)}function i(){A=this.duration}function o(){var e=N.currentTime,t=N.currentTime.toFixed(3),r=100*(e/A);if(R.style.width=r.toFixed(2)+"%",F.innerText=u.parseSec(e),x&&T===l.THEME_DEFAULT){var a=s.currentIndex(t),n=Y.querySelectorAll("p"),i=n[a-1],o=n[a],c=n[a+1];o.className.includes("meplayer-lyric-current")||(u.removeClass(Y.querySelector(".meplayer-lyric-current"),"meplayer-lyric-current"),Y.querySelector(".meplayer-lyric-pre")&&u.removeClass(Y.querySelector(".meplayer-lyric-pre"),"meplayer-lyric-pre"),Y.querySelector(".meplayer-lyric-next")&&u.removeClass(Y.querySelector(".meplayer-lyric-next"),"meplayer-lyric-next"),u.addClass(o,"meplayer-lyric-current"),i&&u.addClass(i,"meplayer-lyric-pre"),c&&u.addClass(c,"meplayer-lyric-next"),Y.style.webkitTransform="translateY(-"+20*a+"px)",Y.style.transform="translateY(-"+20*a+"px)")}}function c(){var e;N.paused?(N.play(),T!==l.THEME_DEFAULT||x||p.draw(),q.addEventListener("mousewheel",function(){var t=null,r=.05;return e=function(e){t&&clearTimeout(t),q.className.includes("meplayer-adjusting-volume")||u.addClass(q,"meplayer-adjusting-volume"),e.wheelDeltaY<0&&N.volume>r&&(N.volume-=r),e.wheelDeltaY>0&&N.volume<1-r&&(N.volume+=r),T===l.THEME_DEFAULT?O.style.width=100*N.volume+"%":U.querySelector("i").style.opacity=N.volume,e.preventDefault(),t=setTimeout(function(){u.removeClass(q,"meplayer-adjusting-volume")},1e3)}}())):(N.pause(),p.stop(),q.removeEventListener("mousewheel",e)),u.toggleClass(q,"meplayer-isplaying")}function d(){var e=(event.pageX-u.getAbsLeft(this))/this.offsetWidth;R.style.width=100*e+"%",N.currentTime=(e*A).toFixed(0)}function m(){N.paused&&N.play()}function f(){N.paused||N.pause()}function h(){function e(){r++,q.style.opacity-=t,q.style.opacity<=0&&(t*=-1,q.style.opacity=0,u.toggleClass(q,"meplayer-container-mini"),u.toggleClass(q,"meplayer-container")),q.style.opacity<1&&r<a?requestAnimationFrame(e):setTimeout(function(){u.removeClass(q,"meplayer-changing-theme")},500)}var t=.03,r=0,a=200;u.addClass(q,"meplayer-changing-theme"),T=T===l.THEME_DEFAULT?l.THEME_MINI:l.THEME_DEFAULT,e()}if(!e.music||!e.music.src)return void console.error("必须指定音乐地址哦~");var g=e.music,E=y.$(e.target)||document.querySelector(".meplayer"),T=e.theme||l.THEME_DEFAULT,x=!!g.lrc,L=g.cover||"https://unsplash.it/78/?random",S=e.preload||"auto",w=e.autoplay?" autoplay":"",_=e.loop||"undefined"==typeof e.loop?" loop":"",C=T===l.THEME_DEFAULT?"meplayer-container":"meplayer-container-mini",b=C+" "+(x?"meplayer-haslrc":"")+" meplayer-isloading",M='<div class="'+b+'">\n                             <audio src="'+g.src+'" preload="'+S+'"'+_+'></audio>\n                             <div class="meplayer-info">\n                             <div class="meplayer-info-cover"><img src='+L+' alt="cd-cover"></div>\n                             <div class="meplayer-meta">\n                             <div class="meplayer-meta-title">'+g.title+'</div>\n                             <div class="meplayer-meta-author">'+g.author+'</div>\n                             <div class="meplayer-meta-time-tick"><span class="meplayer-meta-time-tick-text"></span></div>\n                             </div>\n                             </div>\n                             <canvas class="meplayer-spectrum"></canvas>\n                             <div class="meplayer-lyric"><div class="meplayer-lyric-area"></div></div>\n                             <div class="meplayer-control"><div class="meplayer-control-play"><i class="me-player-font icon-play"></i><i class="me-player-font icon-pause"></i></div></div>\n                             <div class="meplayer-volume-bg"><div class="meplayer-volume"><i class="me-player-font icon-volume"></i><div class="meplayer-volume-progress"></div></div></div>\n                             <div class="meplayer-duration"><i class="me-player-font icon-clock"></i><span class="meplayer-duration-text">loading</span></div>\n                             <div class="meplayer-loadingsign"><i class="me-player-font icon-spin animate-spin"></i>loading</div>\n                             <div class="meplayer-timeline-bg"><div class="meplayer-timeline"><div class="meplayer-timeline-passed"></div></div></div>\n                             </div>';E.innerHTML=M;var A,q=E.querySelector("."+C),H=y.init(q).select(["audio",".meplayer-control-play",".meplayer-meta-time-tick-text",".meplayer-duration",".meplayer-timeline",".meplayer-timeline-passed",".meplayer-volume",".meplayer-volume-progress",".meplayer-lyric-area",".meplayer-spectrum"]),I=n(H,10),N=I[0],j=I[1],F=I[2],D=I[3],P=I[4],R=I[5],U=I[6],O=I[7],Y=I[8],k=I[9];x?s.parse(g.lrc).renderTo(Y):p.init(k),w&&c(),t(),v.mePlayer={play:m,pause:f,toggleTheme:h}},"undefined"!=typeof e&&"undefined"!=typeof e.exports&&(e.exports=v.mePlayer),function(){var e=document.getElementById("meplayer-auto-init");"true"===e.dataset.auto&&mePlayer({theme:e.dataset.theme,music:{src:e.dataset.src,title:e.dataset.title,author:e.dataset.author,cover:e.dataset.cover,lrc:e.dataset.lrc},autoplay:"true"===e.dataset.autoplay,loop:"true"===e.dataset.loop||"undefined"==typeof e.dataset.loop,preload:e.dataset.preload,target:e})}()}).call(t,function(){return this}())},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="default",a="mini",n="meplayer-lyric-current",i="meplayer-lyric-next";t.THEME_DEFAULT=r,t.THEME_MINI=a,t.LYRIC_CURRENT_CLASS=n,t.LYRIC_NEXT_CLASS=i},function(e,t,r){"use strict";function a(e){for(var t=e.split("\n"),r=[],a=t.length,n=/\[(\d{2}):(\d{2})\.(\d{2,3})]/g,i=/\[(\d{2}):(\d{2})\.(\d{2,3})]/,o=0;o<a;o++){var s=t[o].match(n),c=t[o].replace(n,"").replace(/^\s+|\s+$/g,"");if(c&&null!=s)for(var u=s.length,d=0;d<u;d++){var p=i.exec(s[d]),m=60*p[1]+parseInt(p[2])+parseInt(p[3])/(2===(p[3]+"").length?100:1e3);r.push({time:m,text:c})}}return r.sort(function(e,t){return e.time-t.time}),l=r,this}function n(e){if(!l)return void console.error("未指定歌词文本！");for(var t="",r=0;r<l.length;r++)t+="<p>"+l[r].text+"</p>";return e.innerHTML=t,e.querySelector("p").className=o.LYRIC_CURRENT_CLASS,e.querySelector("p + p").className=o.LYRIC_NEXT_CLASS,this}function i(e){if(e<l[0].time)return 0;for(var t=0,r=l.length;t<r&&!(e>=l[t].time&&(!l[t+1]||e<=l[t+1].time));t++);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.currentIndex=t.renderTo=t.parse=void 0;var l,o=r(1);t.parse=a,t.renderTo=n,t.currentIndex=i},function(e,t){"use strict";function r(e,t){if(e.classList)e.classList.toggle(t);else{var r=e.className.split(" "),a=r.indexOf(t);a>=0?r.splice(a,1):r.push(t),e.className=r.join(" ")}}function a(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function n(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function i(e){for(var t=e.offsetLeft;e.offsetParent;)e=e.offsetParent,t+=e.offsetLeft;return t}function l(e){var t=e/60|0,r=e%60|0,a=t<10?"0"+t:t,n=r<10?"0"+r:r;return a+":"+n}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleClass=r,t.addClass=a,t.removeClass=n,t.getAbsLeft=i,t.parseSec=l},function(e,t){"use strict";function r(){return p()>.8?8*p()+11:6*p()+2}function a(){s.clearRect(0,-o.height/2,o.width,o.height);for(var e=0;e<c.length;e++){var t=c[e],r=t.getHeight();s.fillRect(e+c[e].xSpace,-r/2,c[e].width,r)}u||(d=requestAnimationFrame(a))}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:220,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#D94240";o=e,o.width=t,o.height=a,s=o.getContext("2d"),s.fillStyle=n,s.translate(0,a/2);for(var i=0;i<64;i++){var l=0==i?0:5*i,u={xSpace:l,width:1,getHeight:m(r())};c.push(u)}}function i(){u=!1,a()}function l(){u=!0}Object.defineProperty(t,"__esModule",{value:!0});var o,s,c=[],u=!1,d=null,p=Math.random,m=function(e){var t,r=1.5*e>28?28:1.5*e,a=1,n=p()>.5?1:-1,i=e;return function(){return t=n,i+=t,i>=r?(n*=-1,i=r):i<=a&&(n*=-1,i=a),p()>.9&&(n*=-1),i}};t.init=n,t.draw=i,t.stop=l},function(e,t){"use strict";function r(e){return i=n(e),this}function a(e){var t;if(Array.isArray(e)){var r=[],a=!0,l=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value;r.push(n(u,i))}}catch(d){l=!0,o=d}finally{try{!a&&c["return"]&&c["return"]()}finally{if(l)throw o}}t=r}else t=n(e,i);return t}function n(e,t){var r;return t=t||document,"string"==typeof e?r=t.querySelector(e):e.toString().includes("HTMLDivElement")&&(r=e),r}Object.defineProperty(t,"__esModule",{value:!0});var i;t.init=r,t.select=a,t.$=n}]);